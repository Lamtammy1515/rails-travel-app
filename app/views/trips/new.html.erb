<h1>Add New Trip</h1>

<%= form_for :trip, url: user_trips_path do |f| %>

  <%= f.label :city, "Select City" %>
  <%= f.collection_select :city_id, City.order('name ASC'), :id, :city_country, :include_blank => true %>

  <p>Or Add New City Below:</p><br><br>
  <%= f.fields_for :city_attributes do |city_attr| %>

  <p>City Name:</p>
  <%= city_attr.text_field :city %>

  <p>Select Country:</p>
  <%= city_attr.collection_select :country_id, Country.order('name ASC'), :id, :name, :include_blank => true %>

  <p>Or Add New Country:</p>
  <%= city_attr.text_field :country %><br><br>

  <% end %>

<%= render partial: 'form', locals: { f: f} %>

<%= f.submit "Add Trip" %>
<% end %>
